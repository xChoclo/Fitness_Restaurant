var VideoRichHoverUtils;(function(n){function c(n,t){var i,r;if(n&&n.length>1){if(typeof getMockImageSrc!="undefined"&&getMockImageSrc&&t&&(i=getMockImageSrc(n),i!=null))return i;if(typeof getMockMotionSrc!="undefined"&&getMockMotionSrc&&!t&&(r=getMockMotionSrc(),r!=null))return r}return n}function r(n,t){n&&(t&&e?e(n,"hide"):o&&o(n,"hide"))}function u(n,t){if(n&&n.childElementCount>0)for(var i in n.children)u(i,t);r(n,t)}function l(n,t){n.forEach(function(n){return r(n,t)})}function a(n,t){n.forEach(function(n){return u(n,t)})}function v(n,i,r){if(!n||!i||typeof s===t)return[0,0];var f=s(n,!0,!1,i),e=f[0],o=f[1],u;if(r==VRHEnums.ScrollingDirection.Horizontal||r==VRHEnums.ScrollingDirection.Both)for(u=n;u=u.parentElement;)if(e-=u.scrollLeft,u==i)break;if(r==VRHEnums.ScrollingDirection.Vertical||r==VRHEnums.ScrollingDirection.Both)for(u=n;u=u.parentElement;)if(o-=u.scrollTop,u==i)break;return[e,o]}function y(n){if(!n||!n.thumbnails||n.thumbnails.length<=0)return 0;for(var t=0;t<n.thumbnails.length;t++)if(n.thumbnails[t]&&!isNaN(n.thumbnails[t].clipsCount))return n.thumbnails[t].clipsCount;return 0}function p(n){if(!n||!n.thumbnails||n.thumbnails.length<=0)return null;for(var t=0;t<n.thumbnails.length;t++)if(n.thumbnails[t]&&n.thumbnails[t].clipsTimeline)return n.thumbnails[t].clipsTimeline;return null}function w(n,t,i,r){var f,u;return!n||!n.thumbnails||n.thumbnails.length<=0?null:(u=(f=n.thumbnails.filter(function(n){return n.thumbnailType==t}))===null||f===void 0?void 0:f[0],!u||!u.thumbnailId)?null:ThUrlGenerator.NewThumbnailUrl(u.thumbnailId,i,null,null,r)}function b(n,t){var r,i;return!n||!n.thumbnails||n.thumbnails.length<=0?null:(i=(r=n.thumbnails.filter(function(n){return n.thumbnailType==t}))===null||r===void 0?void 0:r[0],i===null||i===void 0?void 0:i.thumbnailId)}function k(n,t,i){var u,r;if(i===void 0&&(i=!1),i){if(!(((u=t===null||t===void 0?void 0:t.children)===null||u===void 0?void 0:u.length)>0)||!n)return!1;while(n.lastChild)n.removeChild(n.lastChild);for(r=0;r<t.children.length;r++)n.appendChild(t.children[r].cloneNode(!0))}else n.innerHTML=t.innerHTML;return!0}function d(n,i){typeof vrhgc!=t&&(vrhgc===null||vrhgc===void 0?void 0:vrhgc.ejii)&&typeof Log!=t&&Log.Log&&Log.Log("Init",n,"VRH.M",!1,"exists",i?"1":"0")}function h(n,t){for(var i=Array.from(n.querySelectorAll(t)),u=_d.createNodeIterator(n,Node.ELEMENT_NODE),r;r=u.nextNode();)r.shadowRoot&&i.push.apply(i,h(r.shadowRoot,t));return i}function g(n){var i,t={},r;if(!n||(r=(i=n.closest("[".concat(f,"]")))===null||i===void 0?void 0:i.getAttribute(f),!r))return t;try{t=JSON.parse(r)}catch(u){t={}}return t}var t="undefined",f="mmeta",i=typeof pMMUtils===t?{}:pMMUtils,e=i.rc,o=i.ac,s=i.go;n.getThumbUrlOrMockThumbUrl=c;n.showElement=r;n.showElementTree=u;n.showElementFromList=l;n.showElementTreeFromList=a;n.getOffsetWithScroll=v;n.getClipsCountFromVideoResult=y;n.getClipsTimelineFromVideoResult=p;n.getThumbnailUrlFromVideoResult=w;n.getThumbnailIdFromVideoResult=b;n.updateTargetBySource=k;n.logJsModuleLoad=d;n.querySelectorAllInShadowRoot=h;n.getMediaMetadataObject=g})(VideoRichHoverUtils||(VideoRichHoverUtils={}))